(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/KHb":function(e,t,n){var l=n("cZqO");e.exports=(l.default||l).template({1:function(e,t,n,l,o){var a,r,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li class="card-item" id='+d(typeof(r=null!=(r=u(n,"_id")||(null!=t?u(t,"_id"):t))?r:i)===s?r.call(c,{name:"_id",hash:{},data:o,loc:{start:{line:20,column:37},end:{line:20,column:44}}}):r)+" data-item='data-item' data-userId="+d(typeof(r=null!=(r=u(n,"userId")||(null!=t?u(t,"userId"):t))?r:i)===s?r.call(c,{name:"userId",hash:{},data:o,loc:{start:{line:20,column:79},end:{line:20,column:89}}}):r)+'>\n                <div class="img-container">\n                    <img class="img-card" src='+d(typeof(r=null!=(r=u(n,"imageUrls")||(null!=t?u(t,"imageUrls"):t))?r:i)===s?r.call(c,{name:"imageUrls",hash:{},data:o,loc:{start:{line:22,column:46},end:{line:22,column:59}}}):r)+" alt="+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:i)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:22,column:64},end:{line:22,column:73}}}):r)+' />\n                    <button type="button" class="favorite" data-favorite-button=\'data-favorite-button\'\n                        data-marked=\'false\'>\n                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"\n                            class="favorite-icon">\n                            <path\n                                d="M8 15.1099C7.77222 15.1099 7.55261 15.0273 7.38147 14.8774C6.73511 14.3123 6.11194 13.7811 5.56213 13.3126L5.55933 13.3102C3.94739 11.9365 2.55542 10.7502 1.58691 9.58167C0.504272 8.27527 0 7.03662 0 5.68347C0 4.36877 0.450806 3.15588 1.26929 2.26807C2.09753 1.36975 3.23401 0.875 4.46973 0.875C5.39331 0.875 6.23914 1.16699 6.98364 1.7428C7.35938 2.03345 7.69995 2.38916 8 2.80408C8.30017 2.38916 8.64062 2.03345 9.01648 1.7428C9.76099 1.16699 10.6068 0.875 11.5304 0.875C12.766 0.875 13.9026 1.36975 14.7308 2.26807C15.5493 3.15588 16 4.36877 16 5.68347C16 7.03662 15.4958 8.27527 14.4132 9.58154C13.4447 10.7502 12.0529 11.9364 10.4412 13.3099C9.89038 13.7792 9.26624 14.3112 8.61841 14.8777C8.44739 15.0273 8.22766 15.1099 8 15.1099ZM4.46973 1.81226C3.4989 1.81226 2.60706 2.19971 1.95825 2.90332C1.2998 3.61755 0.937134 4.60486 0.937134 5.68347C0.937134 6.82153 1.36011 7.83936 2.30847 8.98364C3.2251 10.0897 4.5885 11.2516 6.16711 12.5969L6.17004 12.5994C6.72192 13.0697 7.34753 13.6029 7.99866 14.1722C8.65369 13.6018 9.28027 13.0677 9.83325 12.5967C11.4117 11.2513 12.775 10.0897 13.6917 8.98364C14.6399 7.83936 15.0629 6.82153 15.0629 5.68347C15.0629 4.60486 14.7002 3.61755 14.0417 2.90332C13.3931 2.19971 12.5011 1.81226 11.5304 1.81226C10.8192 1.81226 10.1663 2.03833 9.58972 2.48413C9.07593 2.88159 8.71802 3.38403 8.50818 3.7356C8.40027 3.91638 8.21033 4.02429 8 4.02429C7.78967 4.02429 7.59973 3.91638 7.49182 3.7356C7.2821 3.38403 6.92419 2.88159 6.41028 2.48413C5.83374 2.03833 5.18079 1.81226 4.46973 1.81226Z" />\n                        </svg>\n                    </button>\n                    <button type="button" class="full-screen">\n                        <svg width="11px" height="11px" class="full-screen-icon">\n                            <use href="./symbol-defs.svg#icon-full-screen"></use>\n                        </svg>\n                    </button>\n                </div>\n                <p class="product-title">'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:i)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:37,column:41},end:{line:37,column:50}}}):r)+"</p>\n"+(null!=(a=(u(n,"ifEquals")||t&&u(t,"ifEquals")||i).call(c,null!=t?u(t,"isOnSale"):t,!1,{name:"ifEquals",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:38,column:16},end:{line:41,column:29}}}))?a:"")+(null!=(a=(u(n,"ifEquals")||t&&u(t,"ifEquals")||i).call(c,null!=t?u(t,"isOnSale"):t,!0,{name:"ifEquals",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:42,column:16},end:{line:45,column:29}}}))?a:"")+"            </li>\n"},2:function(e,t,n,l,o){var a,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <p><span class="price"> '+e.escapeExpression("function"==typeof(a=null!=(a=r(n,"price")||(null!=t?r(t,"price"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"price",hash:{},data:o,loc:{start:{line:39,column:40},end:{line:39,column:49}}}):a)+" грн</span>\n                </p>\n"},4:function(e,t,n,l,o){var a,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,i=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <p class=><span class="old-price"> '+i("function"==typeof(a=null!=(a=s(n,"oldPrice")||(null!=t?s(t,"oldPrice"):t))?a:c)?a.call(r,{name:"oldPrice",hash:{},data:o,loc:{start:{line:43,column:74},end:{line:43,column:86}}}):a)+' грн</span><span\n                        class="hot-price">'+i("function"==typeof(a=null!=(a=s(n,"price")||(null!=t?s(t,"price"):t))?a:c)?a.call(r,{name:"price",hash:{},data:o,loc:{start:{line:44,column:42},end:{line:44,column:51}}}):a)+"</span></p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a,r=e.lambda,c=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<section class="section" id='+c(r(null!=t?i(t,"id"):t,t))+'>\n    <div class="card-container card-container-slider">\n        <div class="header-categori">\n            <button type="button" class="swipe-left">\n                <svg width="6px" height="9px" class="swipe-left-icon">\n                    <use href="../symbol-defs.svg#icon-arrow-left"></use>\n                </svg>\n            </button>\n            <button type="button" class="swipe-right">\n                <svg width="6px" height="9px" class="swipe-right-icon">\n                    <use href="../symbol-defs.svg#icon-arrow-right"></use>\n                </svg>\n            </button>\n            <h2 class="section-name">\n                '+c(r(null!=t?i(t,"name"):t,t))+'<button type="button" class="show-all">Дивитися всі</button>\n            </h2>\n        </div>\n        <ul class="card-field">\n'+(null!=(a=i(n,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"data"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:12},end:{line:47,column:21}}}))?a:"")+"        </ul>\n\n    </div>\n</section>"},useData:!0})},"7b+B":function(e,t){const n=document.querySelector(".js-category-input");n.addEventListener("click",(function e(){let t="";fetch("https://callboard-backend.herokuapp.com/call/categories").then(e=>e.json()).catch(e=>console.log(e)).then(l=>{for(let e of l)t+=`<option value="${e}" class="js-add-category">${e}</option> `;n.insertAdjacentHTML("beforeend",t),n.removeEventListener("click",e)}).catch(e=>console.log(e))}))},Es77:function(e,t,n){var l=n("cZqO");e.exports=(l.default||l).template({1:function(e,t,n,l,o){var a,r,c=e.escapeExpression,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li class="card-item ">\n        <div class="img-container">\n          <img src="'+c(e.lambda(null!=(a=null!=t?d(t,"imageUrls"):t)?d(a,"0"):a,t))+'" alt="'+c("function"==typeof(r=null!=(r=d(n,"description")||(null!=t?d(t,"description"):t))?r:s)?r.call(i,{name:"description",hash:{},data:o,loc:{start:{line:6,column:44},end:{line:6,column:59}}}):r)+'" />\n          <button type="button" class="favorite">\n            <svg width="16px" height="16px" class="favorite-icon-marked">\n              <use href="./symbol-defs.svg#icon-heart"></use>\n            </svg>\n          </button>\n          <button type="button" class="full-screen">\n            <svg width="11px" height="11px" class="full-screen-icon">\n              <use href="./symbol-defs.svg#icon-full-screen"></use>\n            </svg>\n          </button>\n        </div>\n        <p class="product-title">'+c("function"==typeof(r=null!=(r=d(n,"title")||(null!=t?d(t,"title"):t))?r:s)?r.call(i,{name:"title",hash:{},data:o,loc:{start:{line:18,column:33},end:{line:18,column:42}}}):r)+'</p>\n        <p><span class="old-price final-price"> '+c("function"==typeof(r=null!=(r=d(n,"price")||(null!=t?d(t,"price"):t))?r:s)?r.call(i,{name:"price",hash:{},data:o,loc:{start:{line:19,column:48},end:{line:19,column:57}}}):r)+" грн</span></p>       \n      </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return'<div class="card-container scroll-search">\n  <ul class="card-field-wrap">\n'+(null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:4},end:{line:21,column:13}}}))?a:"")+'      \n  </ul>\n  <div id="sentinel"></div>\n</div>\n  '},useData:!0})},H6sZ:function(e,t,n){var l=n("cZqO");e.exports=(l.default||l).template({1:function(e,t,n,l,o){var a,r,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li class="card-item" id='+d(typeof(r=null!=(r=u(n,"_id")||(null!=t?u(t,"_id"):t))?r:i)===s?r.call(c,{name:"_id",hash:{},data:o,loc:{start:{line:5,column:37},end:{line:5,column:44}}}):r)+" data-userId="+d(typeof(r=null!=(r=u(n,"userId")||(null!=t?u(t,"userId"):t))?r:i)===s?r.call(c,{name:"userId",hash:{},data:o,loc:{start:{line:5,column:57},end:{line:5,column:67}}}):r)+' data-item=\'data-item\'>\n                <div class="img-container">\n                    <img class="img-card" src='+d(typeof(r=null!=(r=u(n,"imageUrls")||(null!=t?u(t,"imageUrls"):t))?r:i)===s?r.call(c,{name:"imageUrls",hash:{},data:o,loc:{start:{line:7,column:46},end:{line:7,column:59}}}):r)+" alt="+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:i)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:7,column:64},end:{line:7,column:73}}}):r)+' />\n                    <button type="button" class="favorite"\n                     data-favorite-button=\'data-favorite-button\'\n                     data-marked=\'false\'>\n                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"\n                            class="favorite-icon">\n                            <path\n                                d="M8 15.1099C7.77222 15.1099 7.55261 15.0273 7.38147 14.8774C6.73511 14.3123 6.11194 13.7811 5.56213 13.3126L5.55933 13.3102C3.94739 11.9365 2.55542 10.7502 1.58691 9.58167C0.504272 8.27527 0 7.03662 0 5.68347C0 4.36877 0.450806 3.15588 1.26929 2.26807C2.09753 1.36975 3.23401 0.875 4.46973 0.875C5.39331 0.875 6.23914 1.16699 6.98364 1.7428C7.35938 2.03345 7.69995 2.38916 8 2.80408C8.30017 2.38916 8.64062 2.03345 9.01648 1.7428C9.76099 1.16699 10.6068 0.875 11.5304 0.875C12.766 0.875 13.9026 1.36975 14.7308 2.26807C15.5493 3.15588 16 4.36877 16 5.68347C16 7.03662 15.4958 8.27527 14.4132 9.58154C13.4447 10.7502 12.0529 11.9364 10.4412 13.3099C9.89038 13.7792 9.26624 14.3112 8.61841 14.8777C8.44739 15.0273 8.22766 15.1099 8 15.1099ZM4.46973 1.81226C3.4989 1.81226 2.60706 2.19971 1.95825 2.90332C1.2998 3.61755 0.937134 4.60486 0.937134 5.68347C0.937134 6.82153 1.36011 7.83936 2.30847 8.98364C3.2251 10.0897 4.5885 11.2516 6.16711 12.5969L6.17004 12.5994C6.72192 13.0697 7.34753 13.6029 7.99866 14.1722C8.65369 13.6018 9.28027 13.0677 9.83325 12.5967C11.4117 11.2513 12.775 10.0897 13.6917 8.98364C14.6399 7.83936 15.0629 6.82153 15.0629 5.68347C15.0629 4.60486 14.7002 3.61755 14.0417 2.90332C13.3931 2.19971 12.5011 1.81226 11.5304 1.81226C10.8192 1.81226 10.1663 2.03833 9.58972 2.48413C9.07593 2.88159 8.71802 3.38403 8.50818 3.7356C8.40027 3.91638 8.21033 4.02429 8 4.02429C7.78967 4.02429 7.59973 3.91638 7.49182 3.7356C7.2821 3.38403 6.92419 2.88159 6.41028 2.48413C5.83374 2.03833 5.18079 1.81226 4.46973 1.81226Z" />\n                        </svg>\n                    </button>\n                    <button type="button" class="full-screen">\n                        <svg width="11px" height="11px" class="full-screen-icon">\n                            <use href="./symbol-defs.svg#icon-full-screen"></use>\n                        </svg>\n                    </button>\n                </div>\n                <p class="product-title">'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:i)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:23,column:41},end:{line:23,column:50}}}):r)+"</p>\n"+(null!=(a=(u(n,"ifEquals")||t&&u(t,"ifEquals")||i).call(c,null!=t?u(t,"isOnSale"):t,!1,{name:"ifEquals",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:16},end:{line:27,column:29}}}))?a:"")+(null!=(a=(u(n,"ifEquals")||t&&u(t,"ifEquals")||i).call(c,null!=t?u(t,"isOnSale"):t,!0,{name:"ifEquals",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:28,column:16},end:{line:31,column:29}}}))?a:"")+"            </li>\n"},2:function(e,t,n,l,o){var a,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <p><span class="price"> '+e.escapeExpression("function"==typeof(a=null!=(a=r(n,"price")||(null!=t?r(t,"price"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"price",hash:{},data:o,loc:{start:{line:25,column:40},end:{line:25,column:49}}}):a)+" грн</span>\n                </p>\n"},4:function(e,t,n,l,o){var a,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,i=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <p class=><span class="old-price"> '+i("function"==typeof(a=null!=(a=s(n,"oldPrice")||(null!=t?s(t,"oldPrice"):t))?a:c)?a.call(r,{name:"oldPrice",hash:{},data:o,loc:{start:{line:29,column:74},end:{line:29,column:86}}}):a)+' грн</span><span\n                        class="hot-price">'+i("function"==typeof(a=null!=(a=s(n,"price")||(null!=t?s(t,"price"):t))?a:c)?a.call(r,{name:"price",hash:{},data:o,loc:{start:{line:30,column:42},end:{line:30,column:51}}}):a)+"</span></p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<section class="section" id='+e.escapeExpression(e.lambda(null!=t?r(t,"id"):t,t))+'>\n    <div class="card-container">\n        <ul class="card-field-wrap">\n'+(null!=(a=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"data"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:12},end:{line:33,column:21}}}))?a:"")+"        </ul>\n    </div>\n</section>"},useData:!0})},JQdk:function(e,t,n){var l=n("cZqO");e.exports=(l.default||l).template({1:function(e,t,n,l,o){var a,r,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="card-item favorite-item" id='+d(typeof(r=null!=(r=u(n,"_id")||(null!=t?u(t,"_id"):t))?r:i)===s?r.call(c,{name:"_id",hash:{},data:o,loc:{start:{line:2,column:39},end:{line:2,column:46}}}):r)+" \ndata-favorite-item='data-favorite-item'\ndata-item='data-item'\ndata-userId="+d(typeof(r=null!=(r=u(n,"userId")||(null!=t?u(t,"userId"):t))?r:i)===s?r.call(c,{name:"userId",hash:{},data:o,loc:{start:{line:5,column:12},end:{line:5,column:22}}}):r)+'>\n    <div class="img-container">\n        <img src='+d(e.lambda(null!=(a=null!=t?u(t,"imageUrls"):t)?u(a,"0"):a,t))+" alt="+d(typeof(r=null!=(r=u(n,"description")||(null!=t?u(t,"description"):t))?r:i)===s?r.call(c,{name:"description",hash:{},data:o,loc:{start:{line:7,column:39},end:{line:7,column:54}}}):r)+' />\n        <button type="button" class="favorite" \n        data-favorite-button-marked=\'data-favorite-button-marked\'\n        data-marked=\'true\'\n        data-favorite-button=\'data-favorite-button\'>\n            <svg width="16px" height="16px" class="favorite-icon-marked">\n                <use href="./symbol-defs.svg#icon-heart"></use>\n            </svg>\n        </button>\n        <button type="button" class="full-screen">\n            <svg width="11px" height="11px" class="full-screen-icon">\n                <use href="./symbol-defs.svg#icon-full-screen"></use>\n            </svg>\n        </button>\n    </div>\n    <p class="product-title">'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:i)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:22,column:29},end:{line:22,column:38}}}):r)+'</p>\n    <p><span class="old-price final-price"> '+d(typeof(r=null!=(r=u(n,"price")||(null!=t?u(t,"price"):t))?r:i)===s?r.call(c,{name:"price",hash:{},data:o,loc:{start:{line:23,column:44},end:{line:23,column:53}}}):r)+" грн</span></p>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:25,column:9}}}))?a:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("h3ov");var l=n("/KHb"),o=n.n(l),a=n("H6sZ"),r=n.n(a);n("KzXF");let c=1;const i={businessAndServices:"Бізнес та послуги",electronics:"Електроніка",free:"Віддам безкоштовно",sales:"Розпродаж",propetry:"Нерухомість",recreationAndSport:"Відпочинок і спорт",trade:"Обмін",transport:"Транспорт",work:"Робота"},s={logoEL:document.querySelector(".js-logo-open"),btnClearEL:document.querySelector(".js-btclean-filter"),mainContainerEL:document.querySelector(".js-render-main-page"),headerMenuEL:document.querySelector(".header-menu"),paginatorPagesEL:document.querySelector(".pagination-conteiner")};async function d(e,t){const n=await fetch("https://callboard-backend.herokuapp.com/call"+e+t,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});return await n.json()}async function u(e){history.replaceState({page:e},"page: "+e,"/page="+e),s.paginatorPagesEL.classList.remove("visually-hidden"),m(),await d("?page=",e).then(e=>{!function(e){Object.keys(e).forEach(t=>{f(e[t],t,o.a);const n=document.querySelector(`#${t} .swipe-left`),l=document.querySelector(`#${t} .swipe-right`),a=document.querySelector(`#${t} .show-all`),r={left:0};var c;n.addEventListener("click",p(t,r,1)),l.addEventListener("click",p(t,r,-1)),a.addEventListener("click",(c=t,function(){history.replaceState({id:c}," "+c,"/"+c);const e=document.querySelector(`#${c} .card-field`),t=document.querySelector(`#${c} .header-categori`),n=document.querySelectorAll(".section"),l=document.querySelector(`#${c} .card-container`);console.log(l),l.classList.toggle("card-container-slider"),e.classList.replace("card-field","card-field-wrap"),t.classList.add("visually-hidden");for(let e=0;e<n.length;e+=1)n[e].id!=c&&n[e].classList.add("visually-hidden")}))})}(e)})}function p(e,t,n){return function(l){const o=document.querySelector(`#${e} .card-field`),a=document.querySelector(`#${e} .card-item`);t.left=t.left+n*(a.offsetWidth+20),t.left!==-o.offsetWidth&&t.left!==o.offsetWidth||l.preventDefault(),o.style.left=t.left+"px"}}function f(e,t,n){0!==e.length&&s.mainContainerEL.insertAdjacentHTML("beforeend",n({data:e,name:i[t],id:t}))}function m(){s.mainContainerEL.innerHTML=""}document.addEventListener("DOMContentLoaded",(function(){c=1,u(c)})),s.headerMenuEL.addEventListener("click",(async function(e){if("A"!==e.target.nodeName)return;s.paginatorPagesEL.classList.add("visually-hidden"),m();const t=e.target.dataset.id;history.replaceState({keyCategory:t}," "+t,"/"+t),await d("/specific/",t).then(e=>{f(e,t,r.a)})})),s.logoEL.addEventListener("click",(function(){c=1,u(c)})),s.btnClearEL.addEventListener("click",(function(){c=1,u(c)})),s.paginatorPagesEL.addEventListener("click",(function(e){c=e.target.dataset.id,history.replaceState({page:c},"page: "+c,"/page="+c);document.querySelector(".is-active").classList.remove(".is-active"),e.target.classList.add("is-active"),u(c)}));const h=document.querySelector("[data-menu-button]"),g=document.querySelector(".close-button"),y=document.querySelector("[data-header-menu-backdrop]"),v=document.querySelector("[data-header-drop-down-menu]"),b=document.querySelector("body"),L=e=>{console.log(e.key),"Escape"!==e.key||y.classList.contains("hide")||k()},k=()=>{y.classList.add("visually-hidden"),v.classList.add("hide"),b.removeEventListener("keydown",L)};h.addEventListener("click",()=>{y.classList.remove("visually-hidden"),v.classList.remove("hide"),b.addEventListener("keydown",L)}),g.addEventListener("click",k),y.addEventListener("click",k);const S=n("czhI").default,E="https://callboard-backend.herokuapp.com";function q(e){return S(E+"/user",{headers:{Authorization:""+e}}).then(e=>console.log(e)).catch(e=>{console.log(e)})}function C(e,t){return S.post(E+"/auth/login",{email:""+e,password:""+t}).then(({data:e})=>e)}function w(e,t){return S.post(E+"/auth/register",{email:""+e,password:""+t}).then(e=>e)}function j(e){return S(E+"/auth/logout",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8",authorization:""+e}}).then(e=>e)}const x=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e)}},A=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e)}},M=e=>{try{localStorage.removeItem(e)}catch(e){console.error("Set state error: ",e)}};const O=n("jffb"),T={modalLogAndReg:document.querySelector("[data-modal-log-and-reg]"),buttonsModalLogAndReg:document.querySelectorAll(".js-btn-log-and-reg"),containerMyOffice:document.querySelectorAll(".my-office"),buttonsMyOffice:document.querySelectorAll(".js-my-office-btn"),btnLogout:document.querySelector(".js-btn-go-out"),bodyEl:document.querySelector("body"),groupButtonsMyOffice:document.querySelectorAll(".my-office"),listItemsMyOffice:document.querySelectorAll(".js-list-my-off")},P="Необходимо ввести логин",I="Необходимо ввести пароль",R="Не правильный логин",B="Не правильный логин или пароль",H="Пользователь с таким логином уже зарегистрирован",$="Минимальная длина пароля - 8 символов",z="Максимальная длина пароля - 16 символов",D="Пароль должен содержать цифры",Z="Пароль должен содержать большие и малые буквы",U="Пароль не должен содержать пробелов",N=T.modalLogAndReg.querySelector(".email-input"),F=T.modalLogAndReg.querySelector(".password-input"),J=T.modalLogAndReg.querySelector(".btn-google-autorisation"),_=T.modalLogAndReg.querySelector(".btn-login"),Q=T.modalLogAndReg.querySelector(".btn-registration"),G=T.modalLogAndReg.querySelector(".close-button"),W=T.modalLogAndReg.querySelector(".notification-error-email"),K=T.modalLogAndReg.querySelector(".notification-error-password");function X(){ne(T.modalLogAndReg),k()}if(T.modalLogAndReg.addEventListener("click",(function(e){e.target===T.modalLogAndReg&&ne(T.modalLogAndReg)})),T.bodyEl.addEventListener("keydown",(function(e){27!==e.keyCode||T.modalLogAndReg.classList.contains("visually-hidden")||ne(T.modalLogAndReg)})),T.buttonsModalLogAndReg.forEach(e=>e.addEventListener("click",X)),T.btnLogout.addEventListener("click",(function(e){(async function(e){localStorage.clear(),await j(e).then(e=>(localStorage.clear(),!0)).catch(e=>(console.log(e),!1))})(x("accessToken")),ee()})),T.buttonsMyOffice.forEach(e=>e.addEventListener("click",Y)),J.addEventListener("click",(function(){A("googleAutorusation",!0)})),Q.addEventListener("click",(function(e){if(e.preventDefault(),!function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(N.value))return void le(R);if(!function(e){if(e.length<8)return oe($),!1;if(e.length>16)return oe(z),!1;if(!/\d/.test(e))return oe(D),!1;if(!/[A-Z]/.test(e)||!/[a-z]/.test(e))return oe(Z),!1;if(!/\S/.test(e))return oe(U),!1;return!0}(F.value))return;(async function(e,t){await w(e,t).then(({id:e})=>{A("id",e)}).catch(e=>{409===e.response.status?le(H):console.log("error = "+e.response.status)})})(N.value,F.value),V(N.value,F.value)})),_.addEventListener("click",(function(e){if(e.preventDefault(),0==N.value.length)return void le(P);if(0==F.value.length)return void oe(I);V(N.value,F.value)})),G.addEventListener("click",X),N.addEventListener("input",()=>te()),F.addEventListener("input",()=>te()),!0===x("googleAutorusation")){const e=location.search.substr(1).split("&"),t=e[0].slice(e[0].indexOf("=")+1),n=e[1].slice(e[1].indexOf("=")+1),l=e[2].slice(e[2].indexOf("=")+1);A("accessToken",t),A("refreshToken",n),A("id",l),q(t),M("googleAutorusation"),location.search=""}async function V(e,t){await C(e,t).then(({accessToken:e,refreshToken:t,sid:n})=>{A("accessToken",e),A("refreshToken",t),A("id",n),ee(),ne(T.modalLogAndReg)}).catch(e=>{403===e.response.status&&le(B),console.log(e)})}function Y(){T.listItemsMyOffice.forEach(e=>e.classList.toggle("visually-hidden"))}function ee(){T.groupButtonsMyOffice.forEach(e=>e.classList.toggle("visually-hidden")),T.buttonsModalLogAndReg.forEach(e=>e.classList.toggle("visually-hidden"))}null!=x("accessToken")&&ee();const te=O(()=>{W.classList.add("visually-hidden"),K.classList.add("visually-hidden")},1e3);function ne(e){N.value="",F.value="",e.classList.toggle("visually-hidden")}function le(e){W.textContent=e,W.classList.remove("visually-hidden")}function oe(e){K.textContent=e,K.classList.remove("visually-hidden")}n("uH46"),n("7b+B");document.querySelector(".add-modal-form");const ae=document.querySelector(".js-add-photo"),re=document.querySelector(".label-photo-btn"),ce=document.querySelector(".preview-list");var ie=n("czhI"),se=n.n(ie);const de=document.querySelector(".add-modal-form"),ue=document.querySelector(".js-add-photo"),pe=document.querySelector(".preview-list"),fe=document.querySelector(".label-photo-btn"),me=document.querySelector(".add-modal-btn"),he=document.querySelector(".js-add-modal");me.addEventListener("click",(function(e){if(e.preventDefault(),function(){let e=de.querySelectorAll(".add-valid-error");for(let t=0;t<e.length;t++)e[t].remove()}(),0===function(e){const t=e.querySelectorAll(".js-add-input");let n=0;for(let e=0;e<t.length;e++){let l='<p class="add-valid-error">* поле має бути заповнено</p>';t[e].value||(t[e].parentElement.insertAdjacentHTML("afterend",l),n+=1)}return n}(de)){let e=new FormData(de),t={method:"POST",url:"https://callboard-backend.herokuapp.com/call",headers:{accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+x("refreshToken")},data:e};se()(t).then((function(e){console.log(e.data),he.classList.add("visually-hidden")})).catch((function(e){console.log(e)}))}})),ue.addEventListener("change",()=>{!function(e){if(!["image/jpeg","image/png"].includes(e.type))return alert("Тільки фото у форматі jpeg, png"),void(ae.value="");if(e.size>2097152)return void alert("Розмір фото має бути менше 2 MB");let t=new FileReader;t.onload=function(e){ce.insertAdjacentHTML("afterbegin",`<li class="add-preview"><img src="${e.target.result}" alt="Photo" /></li>`)},ce.children.length>=5&&re.classList.add("show-photo"),t.onerror=function(e){alert("Error!")},t.readAsDataURL(e)}(ue.files[0])}),pe.addEventListener("click",e=>{if("IMG"===e.target.tagName){confirm("Видалити фото?")&&e.target.parentNode.remove(),pe.children.length<=5&&fe.classList.remove("show-photo")}console.log(e.target)});const ge=document.querySelector("body"),ye=document.querySelector("[data-heartIconContured]"),ve=document.querySelector("[data-heartIconFull]"),be=(localStorage.getItem("accessToken"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+x("refreshToken")}}),Le={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+x("refreshToken")}};ge.addEventListener("click",(function(e){if(e.target.hasAttribute("data-favorite-button"))if("false"===e.target.dataset.marked){ve.classList.remove("visually-hidden"),ye.classList.add("visually-hidden");const t=e.target.closest("[data-item]").getAttribute("id");e.target.dataset.marked="true",async function(e,t,n,l){await fetch(`${e}${t}${n}`,l).then(e=>function(e){if(200===e.status)return;403===e.status&&alert("This product is already in favorites")}(e))}("https://callboard-backend.herokuapp.com/","call/favourite/",t,be)}else!function(e){ve.classList.add("visually-hidden"),ye.classList.remove("visually-hidden");const t=e.target.closest("[data-item]").getAttribute("id");(async function(e,t,n,l){await fetch(`${e}${t}${n}`,l).then(e=>e.json()).then(e=>console.log(e.message)).catch(e=>console.log("Error"))})("https://callboard-backend.herokuapp.com/","call/favourite/",t,Le),e.target.dataset.marked="false"}(e)}));var ke=n("JQdk"),Se=n.n(ke);const Ee=document.querySelector("#favorite-section"),qe=Ee.querySelector("#add-backdrop"),Ce=Ee.querySelector("#close-section-button"),we=Ee.querySelector("#favourites-list"),je=document.querySelector("#show-favorites-button1"),xe=document.querySelector("#show-favorites-button2"),Ae=(localStorage.getItem("accessToken"),{headers:{Authorization:"Bearer "+x("refreshToken")}});function Me(e,t,n){return fetch(`${e}${t}`,n).then(e=>e.json()).then(e=>{return t=we,n=Se.a,l=e,void t.insertAdjacentHTML("beforeend",n(l.favourites));var t,n,l})}function Oe(e){e.classList.toggle("visually-hidden",!1)}function Te(){we.innerHTML="",qe.classList.toggle("visually-hidden",!0)}je.addEventListener("click",e=>{e.preventDefault(),Oe(qe),Me("https://callboard-backend.herokuapp.com/","call/favourites",Ae)}),xe.addEventListener("click",e=>{e.preventDefault(),Oe(qe),Me("https://callboard-backend.herokuapp.com/","call/favourites",Ae)}),Ce.addEventListener("click",()=>{Te()}),document.addEventListener("keydown",(function(e){"Escape"===e.key&&Te()})),qe.addEventListener("click",(function(e){if(!e.target.classList.contains("add-backdrop"))return;Te()}));const Pe=n("czhI").default,Ie={btnInfoSeller:document.querySelector(".js-info-seller"),info:document.querySelector(".js-info"),infoSeller:document.querySelector(".js-seller-on"),infoSellerTime:document.querySelector(".js-seller-time"),infoSellerTel:document.querySelector(".js-seller-tel")};Ie.btnInfoSeller.addEventListener("click",(function(e){Ie.info.classList.toggle("visually-hidden"),Ie.btnInfoSeller.classList.toggle("seller"),Ie.infoSeller.classList.toggle("visually-hidden")}));const Re=localStorage.getItem("accessToken");async function Be(e){return await Pe.get("https://callboard-backend.herokuapp.com/user/"+e,{headers:{"Content-Type":"application/json",Authorization:""+Re},redirect:"follow",referrerPolicy:"no-referrer"}).then(({data:e})=>function(e){Ie.infoSellerTime.textContent="На OLX с "+e.registrationDate,Ie.infoSellerTel.textContent="email: "+e.email}(e))}const He={advertTitle:document.querySelector(".js-advert-title"),advertPrice:document.querySelector(".js-advert-price"),openModal:document.querySelector(".js-advert-open"),advertCloseModal:document.querySelector(".js-advert-close"),advertIMG:document.querySelector(".js-advert-img"),sellerName:document.querySelector(".js-seller-name"),sellerTime:document.querySelector(".js-seller-time"),sellerTel:document.querySelector(".js-seller-tel"),favorBtn:document.querySelector(".js-advert-favorites"),modal:document.querySelector(".advert-modal"),addShare:document.querySelector(".add-share"),iconHeartContured:document.querySelector("[data-heartIconContured]"),iconHeartFull:document.querySelector("[data-heartIconFull]")};function $e(){He.openModal.classList.add("is-hidden"),He.addShare.id=""}document.addEventListener("click",(function(e){let t=e.target;"true"===t.parentElement.dataset.marked&&(He.iconHeartFull.classList.remove("visually-hidden"),He.iconHeartContured.classList.add("visually-hidden"));"card-item"===t.parentElement.classList[0]&&(He.advertIMG.src="/",function(e){He.advertIMG.src=e.parentElement.firstElementChild.firstElementChild.currentSrc}(t),function(e){let t=e.parentElement.children;Be(e.parentElement.dataset.userid),He.addShare.id=e.parentElement.id,He.advertTitle.textContent="",He.advertPrice.textContent="",He.advertTitle.textContent=t[1].textContent,2===t[2].children.length&&""!==t[2].children[1].textContent?He.advertPrice.textContent=t[2].children[1].textContent:He.advertPrice.textContent=t[2].children[0].textContent}(t),He.openModal.classList.remove("is-hidden"))})),He.advertCloseModal.addEventListener("click",$e),document.addEventListener("keydown",(function(e){"Escape"===e.key&&$e()})),He.openModal.addEventListener("click",(function(e){e.target.attributes.class.value.includes("add-backdrop")&&$e()}));n("zrP5");var ze=n("QJ3N"),De=(n("JauC"),n("Es77")),Ze=n.n(De);n("KzXF");ze.defaults.delay=100,ze.defaults.icon=!1,ze.defaults.styling="material";const Ue=new class{constructor(){this.searchQuery="",this.page=1}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}},Ne=document.querySelector(".input-searchS"),Fe=document.querySelector(".bBtn"),Je=document.querySelector(".aBtn"),_e=document.querySelector("#search-modal");document.querySelector(".sentinel");_e.addEventListener("click",We);document.querySelector(".fone-modalS");const Qe=document.querySelector(".backdropS");_e.addEventListener("click",We),Fe.addEventListener("click",(function(e){if(Ue.query=Ne.value,""===Ue.query)return alert("Enter search parameters!");return Ue.resetPage(),function(){Ge.innerHTML=""}(),document.getElementById("mySearch").value="",async function(e=""){const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});return await t.json()}("https://callboard-backend.herokuapp.com/call/find?search="+Ue.query).then(e=>{!function(e){if(0===e.length)return alert("Nothin found");Ge.insertAdjacentHTML("afterbegin",Ze()(e)),Xe()}(e),Ue.incrementPage()}).catch(e=>{console.log()})}));const Ge=document.querySelector(".js-render-main-page");function We(e){e.preventDefault();e.target;"BUTTON"===e.target.parentElement.nodeName&&(Qe.classList.add("is-open"),window.addEventListener("keydown",Ke),Je.addEventListener("click",Xe,{once:!0}),Qe.addEventListener("click",Ve,{once:!0}))}function Ke(e){"Escape"===e.code&&Xe()}function Xe(){Qe.classList.remove("is-open"),window.removeEventListener("keydown",Ke)}function Ve(e){e.target===e.currentTarget&&Xe()}document.querySelectorAll(".js-btn-log-and-reg"),document.querySelectorAll(".my-office-btn")},cZqO:function(e,t,n){const l=n("Jikt");l.registerHelper("ifEquals",(function(e,t,n){return e==t?n.fn(this):n.inverse(this)})),e.exports=l},h3ov:function(e,t,n){},uH46:function(e,t){const n={openModalBtn:document.querySelector("#add-modal-open"),closeModalBtn:document.querySelector("[add-modal-close]"),addModal:document.querySelector("#add-backdrop-for-ad"),ModalAuth:document.querySelector("#data-modal-log-and-reg")};function l(){n.addModal.classList.add("visually-hidden")}n.openModalBtn.addEventListener("click",(function(e){e.preventDefault(),null!==localStorage.getItem("accessToken")?n.addModal.classList.remove("visually-hidden"):n.ModalAuth.classList.remove("visually-hidden")})),n.closeModalBtn.addEventListener("click",l),document.addEventListener("keydown",(function(e){"Escape"===e.key&&l()})),n.addModal.addEventListener("click",(function(e){if(!e.target.classList.contains("js-add-modal"))return;l()}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.5ea6c1772669225c51d1.js.map